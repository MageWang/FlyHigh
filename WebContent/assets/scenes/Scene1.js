
// You can write more code here

/* START OF COMPILED CODE */

class Scene1 extends Phaser.Scene {
	
	constructor() {
	
		super("Scene1");
		
	}
	
	_create() {
	
		var player = this.add.player(63.40192, 174.78899, "monochrome", 242);
		
		this.add.brick(145.52315, 133.34608, "monochrome", 554);
		
		this.add.brick(38.892647, 191.1098, "monochrome", 554);
		
		this.add.brick(54.892647, 191.1098, "monochrome", 554);
		
		this.add.brick(86.3586, 191.1098, "monochrome", 554);
		
		this.add.brick(70.3586, 191.1098, "monochrome", 554);
		
		this.add.brick(101.82458, 191.1098, "monochrome", 554);
		
		this.add.brick(117.82458, 191.1098, "monochrome", 554);
		
		this.add.brick(149.29053, 191.1098, "monochrome", 554);
		
		this.add.brick(133.29053, 191.1098, "monochrome", 554);
		
		this.add.brick(164.75645, 191.1098, "monochrome", 554);
		
		this.add.brick(180.75645, 191.1098, "monochrome", 554);
		
		this.add.brick(212.2224, 191.1098, "monochrome", 554);
		
		this.add.brick(196.2224, 191.1098, "monochrome", 554);
		
		this.add.brick(227.68839, 191.1098, "monochrome", 554);
		
		this.add.brick(243.68839, 191.1098, "monochrome", 554);
		
		this.add.brick(259.70825, 191.1098, "monochrome", 554);
		
		this.add.brick(38.892647, 175.35645, "monochrome", 554);
		
		this.add.brick(38.892647, 160.39075, "monochrome", 554);
		
		this.add.brick(38.892647, 144.4125, "monochrome", 554);
		
		this.add.brick(38.892647, 128.97221, "monochrome", 554);
		
		this.add.brick(38.892647, 113.218864, "monochrome", 554);
		
		this.add.brick(38.892647, 98.25317, "monochrome", 554);
		
		this.add.brick(38.892647, 82.274925, "monochrome", 554);
		
		this.add.brick(38.892647, 67.426414, "monochrome", 554);
		
		this.add.brick(38.892647, 51.673054, "monochrome", 554);
		
		this.add.brick(38.892647, 36.707355, "monochrome", 554);
		
		this.add.brick(38.892647, 20.729115, "monochrome", 554);
		
		this.add.brick(38.892647, 5.288823, "monochrome", 554);
		
		this.add.brick(38.892647, -10.464526, "monochrome", 554);
		
		this.add.brick(38.892647, -25.430225, "monochrome", 554);
		
		this.add.brick(38.892647, -41.408466, "monochrome", 554);
		
		this.add.brick(38.892647, -54.047283, "monochrome", 554);
		
		this.add.brick(38.892647, -69.800644, "monochrome", 554);
		
		this.add.brick(38.892647, -84.76634, "monochrome", 554);
		
		this.add.brick(38.892647, -100.74458, "monochrome", 554);
		
		this.add.brick(38.892647, -116.184875, "monochrome", 554);
		
		this.add.brick(38.892647, -131.93822, "monochrome", 554);
		
		this.add.brick(38.892647, -146.90392, "monochrome", 554);
		
		this.add.brick(38.892647, -162.88216, "monochrome", 554);
		
		this.add.brick(38.892647, -177.73067, "monochrome", 554);
		
		this.add.brick(38.892647, -193.48404, "monochrome", 554);
		
		this.add.brick(38.892647, -208.44974, "monochrome", 554);
		
		this.add.brick(38.892647, -224.42798, "monochrome", 554);
		
		this.add.brick(38.892647, -239.86826, "monochrome", 554);
		
		this.add.brick(38.892647, -255.62161, "monochrome", 554);
		
		this.add.brick(38.892647, -270.5873, "monochrome", 554);
		
		this.add.brick(38.892647, -286.56555, "monochrome", 554);
		
		this.add.brick(260.07898, 175.35645, "monochrome", 554);
		
		this.add.brick(260.07898, 160.39075, "monochrome", 554);
		
		this.add.brick(260.07898, 144.4125, "monochrome", 554);
		
		this.add.brick(260.07898, 128.97221, "monochrome", 554);
		
		this.add.brick(260.07898, 113.218864, "monochrome", 554);
		
		this.add.brick(260.07898, 98.25317, "monochrome", 554);
		
		this.add.brick(260.07898, 82.274925, "monochrome", 554);
		
		this.add.brick(260.07898, 67.426414, "monochrome", 554);
		
		this.add.brick(260.07898, 51.673054, "monochrome", 554);
		
		this.add.brick(260.07898, 36.707355, "monochrome", 554);
		
		this.add.brick(260.07898, 20.729115, "monochrome", 554);
		
		this.add.brick(260.07898, 5.288823, "monochrome", 554);
		
		this.add.brick(260.07898, -10.464526, "monochrome", 554);
		
		this.add.brick(260.07898, -25.430225, "monochrome", 554);
		
		this.add.brick(260.07898, -41.408466, "monochrome", 554);
		
		this.add.brick(260.07898, -54.047283, "monochrome", 554);
		
		this.add.brick(260.07898, -69.800644, "monochrome", 554);
		
		this.add.brick(260.07898, -84.76634, "monochrome", 554);
		
		this.add.brick(260.07898, -100.74458, "monochrome", 554);
		
		this.add.brick(260.07898, -116.184875, "monochrome", 554);
		
		this.add.brick(260.07898, -131.93822, "monochrome", 554);
		
		this.add.brick(260.07898, -146.90392, "monochrome", 554);
		
		this.add.brick(260.07898, -162.88216, "monochrome", 554);
		
		this.add.brick(260.07898, -177.73067, "monochrome", 554);
		
		this.add.brick(260.07898, -193.48404, "monochrome", 554);
		
		this.add.brick(260.07898, -208.44974, "monochrome", 554);
		
		this.add.brick(260.07898, -224.42798, "monochrome", 554);
		
		this.add.brick(260.07898, -239.86826, "monochrome", 554);
		
		this.add.brick(260.07898, -255.62161, "monochrome", 554);
		
		this.add.brick(260.07898, -270.5873, "monochrome", 554);
		
		this.add.brick(260.07898, -286.56555, "monochrome", 554);
		
		var goal = this.add.goal(73.92294, -335.08484, "monochrome", 328);
		
		this.add.image(73.37492, -367.8238, "monochrome", 702);
		
		this.add.brick(145.52315, 69.18402, "monochrome", 554);
		
		this.add.brick(130.58592, 69.18402, "monochrome", 554);
		
		this.add.brick(116.13053, 69.18402, "monochrome", 554);
		
		this.add.brick(99.74777, 69.18402, "monochrome", 554);
		
		this.add.brick(83.84685, 69.18402, "monochrome", 554);
		
		this.add.brick(69.87331, 69.18402, "monochrome", 554);
		
		this.add.brick(56.86346, 69.18402, "monochrome", 554);
		
		this.add.brick(56.86346, 69.18402, "monochrome", 554);
		
		this.add.brick(162.86961, 133.34608, "monochrome", 554);
		
		this.add.brick(180.69794, 133.34608, "monochrome", 554);
		
		this.add.brick(198.52623, 133.34608, "monochrome", 554);
		
		this.add.brick(214.42715, 133.34608, "monochrome", 554);
		
		this.add.brick(228.40071, 133.34608, "monochrome", 554);
		
		this.add.brick(243.33794, 133.34608, "monochrome", 554);
		
		this.add.brick(245.54115, 3.671347, "monochrome", 554);
		
		this.add.brick(228.67653, 3.671347, "monochrome", 554);
		
		this.add.brick(213.7393, 3.671347, "monochrome", 554);
		
		this.add.brick(197.35652, 3.671347, "monochrome", 554);
		
		this.add.brick(180.01006, 3.671347, "monochrome", 554);
		
		this.add.brick(163.62729, 3.671347, "monochrome", 554);
		
		this.add.brick(146.76266, 3.671347, "monochrome", 554);
		
		this.add.brick(130.86174, 3.671347, "monochrome", 554);
		
		this.add.brick(115.442665, 3.671347, "monochrome", 554);
		
		this.add.brick(99.05988, 3.671347, "monochrome", 554);
		
		this.add.brick(83.15896, 3.671347, "monochrome", 554);
		
		this.add.brick(67.258026, 3.671347, "monochrome", 554);
		
		this.add.brick(54.248173, 3.671347, "monochrome", 554);
		
		this.add.brick(54.248173, 3.671347, "monochrome", 554);
		
		this.add.brick(145.52315, 146.58124, "monochrome", 554);
		
		this.add.brick(145.52315, 162.74728, "monochrome", 554);
		
		this.add.brick(145.52315, 175.4516, "monochrome", 554);
		
		this.add.brick(245.54115, -52.40311, "monochrome", 554);
		
		this.add.brick(228.67653, -52.40311, "monochrome", 554);
		
		this.add.brick(213.7393, -52.40311, "monochrome", 554);
		
		this.add.brick(197.35652, -52.40311, "monochrome", 554);
		
		this.add.brick(180.01006, -52.40311, "monochrome", 554);
		
		this.add.brick(163.62729, -52.40311, "monochrome", 554);
		
		this.add.brick(146.76266, -52.40311, "monochrome", 554);
		
		this.add.brick(130.86174, -52.40311, "monochrome", 554);
		
		this.add.brick(115.442665, -52.40311, "monochrome", 554);
		
		this.add.brick(99.05988, -52.40311, "monochrome", 554);
		
		this.add.brick(83.15896, -52.40311, "monochrome", 554);
		
		this.add.brick(67.258026, -52.40311, "monochrome", 554);
		
		this.add.brick(54.248173, -52.40311, "monochrome", 554);
		
		this.add.brick(54.248173, -52.40311, "monochrome", 554);
		
		this.add.brick(245.54115, -111.42885, "monochrome", 554);
		
		this.add.brick(228.67653, -111.42885, "monochrome", 554);
		
		this.add.brick(213.7393, -111.42885, "monochrome", 554);
		
		this.add.brick(197.35652, -111.42885, "monochrome", 554);
		
		this.add.brick(180.01006, -111.42885, "monochrome", 554);
		
		this.add.brick(163.62729, -111.42885, "monochrome", 554);
		
		this.add.brick(146.76266, -111.42885, "monochrome", 554);
		
		this.add.brick(130.86174, -111.42885, "monochrome", 554);
		
		this.add.brick(115.442665, -111.42885, "monochrome", 554);
		
		this.add.brick(99.05988, -111.42885, "monochrome", 554);
		
		this.add.brick(83.15896, -111.42885, "monochrome", 554);
		
		this.add.brick(67.258026, -111.42885, "monochrome", 554);
		
		this.add.brick(54.248173, -111.42885, "monochrome", 554);
		
		this.add.brick(54.248173, -111.42885, "monochrome", 554);
		
		this.add.brick(130.86174, -166.51955, "monochrome", 554);
		
		this.add.brick(115.442665, -166.51955, "monochrome", 554);
		
		this.add.brick(67.258026, -166.51955, "monochrome", 554);
		
		this.add.brick(54.248173, -166.51955, "monochrome", 554);
		
		this.add.brick(54.248173, -166.51955, "monochrome", 554);
		
		this.add.brick(213.7393, -219.6427, "monochrome", 554);
		
		this.add.brick(159.39305, -219.6427, "monochrome", 554);
		
		this.add.brick(54.248173, -219.6427, "monochrome", 554);
		
		this.add.brick(54.248173, -219.6427, "monochrome", 554);
		
		this.add.brick(245.54115, -319.3586, "monochrome", 554);
		
		this.add.brick(197.35652, -319.3586, "monochrome", 554);
		
		this.add.brick(180.01006, -319.3586, "monochrome", 554);
		
		this.add.brick(163.62729, -319.3586, "monochrome", 554);
		
		this.add.brick(146.76266, -319.3586, "monochrome", 554);
		
		this.add.brick(130.86174, -319.3586, "monochrome", 554);
		
		this.add.brick(130.86174, -319.3586, "monochrome", 554);
		
		this.add.brick(115.442665, -319.3586, "monochrome", 554);
		
		this.add.brick(99.05988, -319.3586, "monochrome", 554);
		
		this.add.brick(83.15896, -319.3586, "monochrome", 554);
		
		this.add.brick(67.258026, -319.3586, "monochrome", 554);
		
		this.add.brick(54.248173, -319.3586, "monochrome", 554);
		
		this.add.brick(54.248173, -319.3586, "monochrome", 554);
		
		this.add.brick(260.8629, -319.3586, "monochrome", 554);
		
		this.add.brick(260.8629, -302.8608, "monochrome", 554);
		
		this.add.brick(39.130875, -302.8608, "monochrome", 554);
		
		this.add.brick(39.130875, -318.77975, "monochrome", 554);
		
		this.add.image(171.40201, 161.81712, "monochrome", 408);
		
		this.add.image(-0.19689557, -243.9263, "monochrome", 414);
		
		this.add.image(292.53455, -194.28865, "monochrome", 414);
		
		this.add.image(15.425572, -137.637, "monochrome", 414);
		
		this.add.image(175.00584, -296.80118, "monochrome", 414);
		
		var monochrome_6 = this.add.image(111.858345, -411.42526, "monochrome", 180);
		monochrome_6.setScale(3.0, 3.0);
		
		this.add.brick(215.55325, -276.72192, "monochrome", 554);
		
		/** @type {Player} */
		this.fPlayer = player;
		/** @type {Goal} */
		this.fGoal = goal;
		
	}
	
	
	
	/* START-USER-CODE */

	create() {
		this._create();
		
//		var image = this.physics.add.image(this.fBrick.x+100, this.fBrick.y, "monochrome", 554);
//		
//		//this.fBrick.destroy();
//		image.setImmovable(true);
//    	image.body.allowGravity = false;
//
//		this.physics.add.collider(this.fPlayer, image);
//		
//		
//		//this.fPlayer.destroy();
//
//		var player = this.physics.add.sprite(this.fPlayer.x+100, this.fPlayer.y, "monochrome", 242);
//    	player.setBounce(0.2);
//    	player.setCollideWorldBounds(true);
//		player.setGravityY(300);
//		this.physics.add.collider(player, image);
		
		//this.physics.add.existing(this.fPlayer);
		
		//this.cameras.main.setBounds(0, 0, this.layer.width, this.layer.height);
		this.cameras.main.startFollow(this.fPlayer);
		
		this.bindKeys();
		
		this.startAudios()
	}

	update() {
		this.movePlayer();
	}

	bindKeys() {

		var cursors = this.input.keyboard.createCursorKeys();

		this.wasd = {
			jump: cursors.space,
			left: cursors.left,
			right: cursors.right,
			duck: cursors.down,
			up: cursors.up
		}

		this.input.keyboard.addCapture(
			Phaser.Input.Keyboard.KeyCodes.SPACEBAR,
			Phaser.Input.Keyboard.KeyCodes.LEFT,
			Phaser.Input.Keyboard.KeyCodes.RIGHT,
			Phaser.Input.Keyboard.KeyCodes.DOWN,
			Phaser.Input.Keyboard.KeyCodes.UP
		);

	}

	movePlayer() {
		if(!this.fPlayer.active){
			if(this.wasd.jump.isDown){
				this.scene.start("Scene1");
				return;
			}
			return;
		}
		if (this.hurtFlag) {
			//this.fPlayer.playHurt();
			return;
		}
		
		
		//console.log('this.fPlayer.body.velocity.y',this.fPlayer.body.velocity.y);
		if (this.wasd.jump.isDown && this.fPlayer.IsFloor() && Math.abs(this.fPlayer.body.velocity.y) < 1 ) {
			this.fPlayer.body.velocity.y = -200;
			this.audioJump.play();
			this.fPlayer._isFloor = false;
		}

		var vel = 80;

		if (this.wasd.left.isDown) {

			this.fPlayer.body.velocity.x = -vel;

			//this.fPlayer.playMoveAnimation();

			this.fPlayer.flipX = true;

		} else if (this.wasd.right.isDown) {

			this.fPlayer.body.velocity.x = vel;

			//this.fPlayer.playMoveAnimation();

			this.fPlayer.flipX = false;

		} else {

			this.fPlayer.body.velocity.x = 0;

			//this.fPlayer.playStillAnimation(this.wasd.duck.isDown);

		}
	}
	
	
	startAudios() {
		// audios 
		this.audioKill = this.sound.add("kill");
		this.audioItem = this.sound.add("item");
		this.audioHurt = this.sound.add("hurt");
		this.audioJump = this.sound.add("jump");
		this.audioBreak = this.sound.add("break");
		// music
		this.music = this.sound.add("music");
		this.music.play();
	}
	
	/* END-USER-CODE */
}

/* END OF COMPILED CODE */

// You can write more code here
